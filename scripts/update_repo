#!/bin/bash

# Папка твоего репозитория
DOTFILES="$HOME/dotfiles"

echo "Обновляем файлы в репозитории..."

# Копируем конфиги обратно в папку dotfiles
cp -r ~/.config/hypr "$DOTFILES/config/"
cp -r ~/.config/waybar "$DOTFILES/config/"
cp -r ~/.config/kitty "$DOTFILES/config/"
cp -r ~/.config/rofi "$DOTFILES/config/"
cp -r ~/.config/cava "$DOTFILES/config/"
cp -r ~/.config/wlogout "$DOTFILES/config/"
cp -r ~/.config/dunst "$DOTFILES/config/"
cp ~/.config/starship.toml "$DOTFILES/config/"

# Копируем скрипты
cp ~/.local/bin/* "$DOTFILES/scripts/"

echo "Файлы скопированы!"

# Спрашиваем, хотим ли отправить в гит
read -p "Отправить на GitHub? (y/n): " choice
if [[ "$choice" == "y" || "$choice" == "Y" ]]; then
    cd "$DOTFILES"
    git add .
    echo "Введите описание изменений (commit message):"
    read msg
    git commit -m "$msg"
    git push
    echo "Готово! Изменения на GitHub."
fi
